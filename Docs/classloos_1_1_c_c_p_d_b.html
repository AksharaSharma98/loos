<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LOOS: loos::CCPDB Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceloos.html">loos</a>::<a class="el" href="classloos_1_1_c_c_p_d_b.html">CCPDB</a>
  </div>
</div>
<div class="contents">
<h1>loos::CCPDB Class Reference</h1><!-- doxytag: class="loos::CCPDB" --><!-- doxytag: inherits="loos::Trajectory" -->Class for interpreting concatenated <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> files as a <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for loos::CCPDB:</div>
<div class="dynsection">
<p><center><img src="classloos_1_1_c_c_p_d_b__inherit__graph.png" border="0" usemap="#loos_1_1_c_c_p_d_b__inherit__map" alt="Inheritance graph"></center>
<map name="loos_1_1_c_c_p_d_b__inherit__map">
<area shape="rect" href="classloos_1_1_trajectory.html" title="Base&#45;class for polymorphic trajectories." alt="" coords="5,5,120,40"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for loos::CCPDB:</div>
<div class="dynsection">
<p><center><img src="classloos_1_1_c_c_p_d_b__coll__graph.png" border="0" usemap="#loos_1_1_c_c_p_d_b__coll__map" alt="Collaboration graph"></center>
<map name="loos_1_1_c_c_p_d_b__coll__map">
<area shape="rect" href="classloos_1_1_trajectory.html" title="Base&#45;class for polymorphic trajectories." alt="" coords="69,219,184,253"><area shape="rect" href="classloos_1_1_stream_wrapper.html" title="Simple wrapper class for caching stream pointers." alt="" coords="5,112,152,147"><area shape="rect" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class." alt="" coords="303,219,383,253"><area shape="rect" href="classloos_1_1_atomic_group.html" title="Class for handling groups of Atoms (pAtoms, actually)." alt="" coords="176,112,309,147"><area shape="rect" href="classloos_1_1_shared_periodic_box.html" title="This class manages a shared Periodicbox." alt="" coords="159,5,327,40"><area shape="rect" href="classloos_1_1_remarks.html" title="Class for handling PDB Remarks." alt="" coords="333,112,445,147"><area shape="rect" href="classloos_1_1_unit_cell.html" title="This class encapsulates crystallographic unit cell data." alt="" coords="469,112,573,147"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classloos_1_1_c_c_p_d_b-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0c4c164c0c61398d0e3739abb79623e6"></a><!-- doxytag: member="loos::CCPDB::CCPDB" ref="0c4c164c0c61398d0e3739abb79623e6" args="(const std::string &amp;s)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CCPDB</b> (const std::string &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f3dbeb7240d67d2bc9d7776543ffd4f6"></a><!-- doxytag: member="loos::CCPDB::CCPDB" ref="f3dbeb7240d67d2bc9d7776543ffd4f6" args="(const char *p)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CCPDB</b> (const char *p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="602182e9624c21c96296c59307c8d6a9"></a><!-- doxytag: member="loos::CCPDB::CCPDB" ref="602182e9624c21c96296c59307c8d6a9" args="(std::iostream &amp;is)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CCPDB</b> (std::iostream &amp;is)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6ad122010193b64afc77bd1e189b7d54"></a><!-- doxytag: member="loos::CCPDB::nframes" ref="6ad122010193b64afc77bd1e189b7d54" args="(void) const " -->
virtual uint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#6ad122010193b64afc77bd1e189b7d54">nframes</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of frames in the trajectory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="63b5c69e43d3ee8df2064d064e1c3692"></a><!-- doxytag: member="loos::CCPDB::natoms" ref="63b5c69e43d3ee8df2064d064e1c3692" args="(void) const " -->
virtual uint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#63b5c69e43d3ee8df2064d064e1c3692">natoms</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"># of atoms per frame <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual std::vector&lt; <a class="el" href="classloos_1_1_coord.html">GCoord</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#f80f98d9c2e3a64bbe750300113372bc">coords</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current frames coordinates as a vector of GCoords.  <a href="#f80f98d9c2e3a64bbe750300113372bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#89e5a8bde6918fc291925253b5bc08ea">updateGroupCoords</a> (<a class="el" href="classloos_1_1_atomic_group.html">AtomicGroup</a> &amp;g)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#4f8010c4bef8ba88fb729eb1cab0f047">hasPeriodicBox</a> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3b4a425ec854922dccadccab2d2cac3c"></a><!-- doxytag: member="loos::CCPDB::periodicBox" ref="3b4a425ec854922dccadccab2d2cac3c" args="(void) const " -->
virtual <a class="el" href="classloos_1_1_coord.html">GCoord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#3b4a425ec854922dccadccab2d2cac3c">periodicBox</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the periodic box for the current frame/trajectory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#37d837ad01c07e197d2b72b705b875dd">timestep</a> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classloos_1_1_p_d_b.html">PDB</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_c_c_p_d_b.html#069933c7dc10bb9d5893744f40efd742">currentFrame</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current frame as a <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> object.  <a href="#069933c7dc10bb9d5893744f40efd742"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class for interpreting concatenated <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> files as a <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a>. 
<p>
This class reads a concatenated <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a> file as a LOOS <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a>. Each frame of the trajectory must be separated by an "END" record. Since each frame is a fully-parsed <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> object, there is quite a bit of overhead involved in reading <a class="el" href="classloos_1_1_c_c_p_d_b.html" title="Class for interpreting concatenated PDB files as a Trajectory.">CCPDB</a> trajectories. In addition, upon instantiation, the trajectory will be scanned for "END" records to build a list of seek indices for each frame.<p>
It is possible to get the contained <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> object out of the <a class="el" href="classloos_1_1_c_c_p_d_b.html" title="Class for interpreting concatenated PDB files as a Trajectory.">CCPDB</a>, but be careful of semantics that are slightly inconsistent with the rest of LOOS. See <a class="el" href="classloos_1_1_c_c_p_d_b.html#069933c7dc10bb9d5893744f40efd742" title="Returns the current frame as a PDB object.">CCPDB::currentFrame()</a> for more details. 
<p>Definition at line <a class="el" href="ccpdb_8hpp-source.html#l00051">51</a> of file <a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f80f98d9c2e3a64bbe750300113372bc"></a><!-- doxytag: member="loos::CCPDB::coords" ref="f80f98d9c2e3a64bbe750300113372bc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classloos_1_1_coord.html">GCoord</a> &gt; loos::CCPDB::coords           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the current frames coordinates as a vector of GCoords. 
<p>
Some formats, notably DCDs, do not interleave their coordinates. This means that this could be a potentially expensive operation. 
<p>Implements <a class="el" href="classloos_1_1_trajectory.html#b600f0488189a7cdabcc200fdd4f77d5">loos::Trajectory</a>.</p>

<p>Definition at line <a class="el" href="ccpdb_8cpp-source.html#l00078">78</a> of file <a class="el" href="ccpdb_8cpp-source.html">ccpdb.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="89e5a8bde6918fc291925253b5bc08ea"></a><!-- doxytag: member="loos::CCPDB::updateGroupCoords" ref="89e5a8bde6918fc291925253b5bc08ea" args="(AtomicGroup &amp;g)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loos::CCPDB::updateGroupCoords           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classloos_1_1_atomic_group.html">AtomicGroup</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>g</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If the passed group to update is the same size as the trajectory frame, then the coordinates a copied straight out of the frame and into the group. If the sizes do not match, then the atomid's of the passed group are assumed to be indices (+1) into the frame. 
<p>Implements <a class="el" href="classloos_1_1_trajectory.html#663726128c09dd9f456dfb7bd0c75a19">loos::Trajectory</a>.</p>

<p>Definition at line <a class="el" href="ccpdb_8cpp-source.html#l00087">87</a> of file <a class="el" href="ccpdb_8cpp-source.html">ccpdb.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="4f8010c4bef8ba88fb729eb1cab0f047"></a><!-- doxytag: member="loos::CCPDB::hasPeriodicBox" ref="4f8010c4bef8ba88fb729eb1cab0f047" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool loos::CCPDB::hasPeriodicBox           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests whether or not the given frame/trajectory has periodic boundary information. The presence of periodic box information does not necessarily indicate that said information has been read in yet. For example, the presence of crystal data is in the header so this can be detected before any frame is read, but the crystal data itself is only read when a frame is read in. 
<p>Implements <a class="el" href="classloos_1_1_trajectory.html#615d45227feed4869c57e4a3a5440c85">loos::Trajectory</a>.</p>

<p>Definition at line <a class="el" href="ccpdb_8hpp-source.html#l00070">70</a> of file <a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="37d837ad01c07e197d2b72b705b875dd"></a><!-- doxytag: member="loos::CCPDB::timestep" ref="37d837ad01c07e197d2b72b705b875dd" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual float loos::CCPDB::timestep           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The timestep is currently meaningless for CCPDB's, so we return a nominal 1e-3. 
<p>Implements <a class="el" href="classloos_1_1_trajectory.html#18fe23483971739427aee7bc92d73160">loos::Trajectory</a>.</p>

<p>Definition at line <a class="el" href="ccpdb_8hpp-source.html#l00075">75</a> of file <a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="069933c7dc10bb9d5893744f40efd742"></a><!-- doxytag: member="loos::CCPDB::currentFrame" ref="069933c7dc10bb9d5893744f40efd742" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classloos_1_1_p_d_b.html">PDB</a> loos::CCPDB::currentFrame           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the current frame as a <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> object. 
<p>
<a class="el" href="classloos_1_1_c_c_p_d_b.html" title="Class for interpreting concatenated PDB files as a Trajectory.">CCPDB</a> actually stores a <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> object inside of it that represents the currently read frame. When you request that <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a>, what you get is a shared copy with the <a class="el" href="namespaceloos_1_1internal.html" title="Loos esoterica.">internal</a> one, that is, the contained <a class="el" href="classloos_1_1_atom.html" title="Basic Atom class for handling atom properties.">Atom</a> and <a class="el" href="classloos_1_1_periodic_box.html" title="Class for managing periodic box information.">PeriodicBox</a> objects are shared. However, when you read in a new frame, the <a class="el" href="namespaceloos_1_1internal.html" title="Loos esoterica.">internal</a> <a class="el" href="classloos_1_1_p_d_b.html" title="PDB reading/writing class.">PDB</a> is swapped out with a new one. So at this point, what you are left holding is actually a copy (equivalent to a deep copy) of the previously read frame.<p>
In general, since <a class="el" href="classloos_1_1_c_c_p_d_b.html#069933c7dc10bb9d5893744f40efd742" title="Returns the current frame as a PDB object.">currentFrame()</a> is not part of the <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories.">Trajectory</a> interface, you should not use it unless you need it... 
<p>Definition at line <a class="el" href="ccpdb_8hpp-source.html#l00090">90</a> of file <a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ccpdb_8hpp-source.html">ccpdb.hpp</a><li><a class="el" href="ccpdb_8cpp-source.html">ccpdb.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 22 17:00:59 2010 for LOOS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
