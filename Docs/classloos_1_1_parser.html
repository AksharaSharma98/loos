<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>LOOS: loos::Parser Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceloos.html">loos</a>::<a class="el" href="classloos_1_1_parser.html">Parser</a>
  </div>
</div>
<div class="contents">
<h1>loos::Parser Class Reference</h1><!-- doxytag: class="loos::Parser" -->Front-end to the Bison/Flex parser.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_parser_8hpp-source.html">Parser.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for loos::Parser:</div>
<div class="dynsection">
<p><center><img src="classloos_1_1_parser__coll__graph.png" border="0" usemap="#loos_1_1_parser__coll__map" alt="Collaboration graph"></center>
<map name="loos_1_1_parser__coll__map">
<area shape="rect" href="structloos_1_1_parser_driver.html" title="loos::ParserDriver" alt="" coords="141,219,272,253"><area shape="rect" href="classloos_1_1_kernel.html" title="The Kernel (virtual machine) for compiling and executing user&#45;defined atom selections..." alt="" coords="47,112,140,147"><area shape="rect" href="class_loos_lexer.html" title="Extension of the Flex yyFlexLexer class." alt="" coords="165,112,248,147"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classloos_1_1_parser-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3a9b98d34b7791cd3936a3e4336c47f0"></a><!-- doxytag: member="loos::Parser::Parser" ref="3a9b98d34b7791cd3936a3e4336c47f0" args="(const std::string &amp;s)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>Parser</b> (const std::string &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="596a82099053c286d1b0b2d44ea63417"></a><!-- doxytag: member="loos::Parser::parse" ref="596a82099053c286d1b0b2d44ea63417" args="(const std::string &amp;s)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_parser.html#596a82099053c286d1b0b2d44ea63417">parse</a> (const std::string &amp;s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse the given command string after clearing the action stack. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0c182698466c1c1bc0566e82082f3c55"></a><!-- doxytag: member="loos::Parser::kernel" ref="0c182698466c1c1bc0566e82082f3c55" args="(void)" -->
<a class="el" href="classloos_1_1_kernel.html">Kernel</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classloos_1_1_parser.html#0c182698466c1c1bc0566e82082f3c55">kernel</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a ref to the compiled (hopefully) <a class="el" href="classloos_1_1_kernel.html" title="The Kernel (virtual machine) for compiling and executing user-defined atom selections...">Kernel</a>. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Front-end to the Bison/Flex parser. 
<p>
Creates a compiled <a class="el" href="classloos_1_1_kernel.html" title="The Kernel (virtual machine) for compiling and executing user-defined atom selections...">Kernel</a> that can then be executed to select atoms. The grammar accepted is relatively simple and patterned after C/PERL expressions. Relational operators are allowed, as are basic logical operators (and, or, and not). Pre-defined keywords are: name, id, resname, resid, segid. These evaluate to the current atom's appropriate property. Case IS significant both for keywords and for strings. Integer numbers are allowed. Strings are delimited by either single quotes (') or double quotes ("). Also, strings inequalities are handled lexically as C++ strings are, i.e. string1 &gt; string2 is true is it would be in regular C++ code.<p>
Regular expressions (in PERL format) are supported via Boost. The regular expression matching operator, '=~' is slightly special in that it will only permit you to match a keyword that would evaluate to a string. In other words, you may match against a name, resname, and segname (segname is an alias for segid), but NOT an id nor a resid.<p>
String equality matches the entire string. If you want to match a subset, you should use the '=~' operator. In other words, <div class="fragment"><pre class="fragment">
   "CA" == "C"   -&gt; false
   "C"  == "C"   -&gt; true
   "CA" =~ "C"   -&gt; true
   </pre></div><p>
Finally, the standard precedence and associativity that apply in C++ apply here. Expressions are evaluated left to right and parenthesis may be used to alter precedence/evaluation order. Unlike C/C++ however, the logical operators do not short-circuit.<p>
If there is a syntax error in the selection string, then a runtime_error() is thrown.<p>
Examples: <div class="fragment"><pre class="fragment">  <span class="keywordtype">string</span> selection_string = <span class="stringliteral">"resid &gt;= 10 &amp;&amp; resid &lt;= 100 &amp;&amp; name == 'CA'"</span>;
  Parser parsed(selection_string);
  KernelSelector parsed_selector(parsed.kernel());
  AtomicGroup parsed_selection = molecule.select(parsed_selector)
</pre></div><p>
<a class="el" href="classloos_1_1_parser.html" title="Front-end to the Bison/Flex parser.">Parser</a> objects are intended to be a parse-once object. If you want to parse multiple selection strings, then you should instantiate a <a class="el" href="classloos_1_1_parser.html" title="Front-end to the Bison/Flex parser.">Parser</a> object for each selection string. 
<p>Definition at line <a class="el" href="_parser_8hpp-source.html#l00089">89</a> of file <a class="el" href="_parser_8hpp-source.html">Parser.hpp</a>.</p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_parser_8hpp-source.html">Parser.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Apr 21 12:54:53 2010 for LOOS by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
