<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LOOS: What&#39;s new in PyLOOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LOOS
   &#160;<span id="projectnumber">v3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('new_pyloos.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">What's new in PyLOOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>What's new As of LOOS 3.0.0, PyLOOS has migrated to python 3.x. As part of the migration, there was a fair amount of cleanup to make the code more PEP8 compliant. New tools must be developed using python 3.x, but otherwise little has changed for developers; when we migrated existing python tools, we found very few things that needed to change.  What was previously new PyLOOS has undergone some substantial changes in LOOS 2.3.0. The top-level module/namespace remains "loos", and it includes everything imported from the core of LOOS. We have added a new "pyloos" module under "loos" that now holds Python-specific code, such as the new trajectories classes. One of the biggest changes in PyLOOS is the introduction of three new trajectory classes. These classes ultimately wrap loos <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories. ">Trajectory</a> objects but provide more python-like interfaces. The first class is  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_trajectory.html" title="Python-based wrapper for LOOS Trajectories This class turns a loos Trajectory into something more pyt...">loos::pyloos::trajectories::Trajectory</a> "loos.pyloos.Trajectory". You can specify a stride and the number of frames to skip from the start of the trajectory. The trajectory object can then be used like a python iterator,  {.py} model = <a class="el" href="namespaceloos.html#acb266964bdaa10942329c7747adce633" title="Factory function for reading in structure files. ">loos.createSystem</a>('foo.pdb') traj = loos.pyloos.Trajectory('foo.dcd', model, skip=50) for frame in traj: print(frame.centroid())  You can also use the trajectory like an array,  {.py} first_frame = traj[0] last_frame = traj[-1]  There is often a need to know what frame number a frame corresponds to. If you are using the trajectory as in iterator, then the  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_trajectory.html#a8ca85025f71d57ec4188baaa2f18f185">loos::pyloos::trajectories::Trajectory::realIndex</a> "realIndex()" function will return the frame number,  {.py} for frame in traj: print(traj.realIndex(), frame.centroid())  Since you can specify a skip and a stride, an array index does not necessarily give you the real frame number. Instead, use the frameNumber() member function. For example,  {.py} frame = traj[0] # This is actually frame index 50 in the # trajectory because of the skip print traj.frameNumber(0) # This prints out 50  Another thing to be careful of is the linkage between groups through the shared atoms. By default, the frame returned will share atoms with whatever group was used to instantiate the trajectory. If you need to decouple the trajectory from the model, pass a copy to the constructor,  {.py} traj = loos.pyloos.Trajectory('foo.dcd', model.copy())  The other two trajectory classes,  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_virtual_trajectory.html" title="Virtual trajectory composed of multiple Trajectory objects This class can combine multiple loos...">loos::pyloos::trajectories::VirtualTrajectory</a> "VirtualTrajectory" and  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_aligned_virtual_trajectory.html" title="A virtual trajectory that supports iterative alignment. ">loos::pyloos::trajectories::AlignedVirtualTrajectory</a> "AlignedVirtualTrajectory" let you combine multiple pyloos trajectory objects to make one big "virtual" trajectory. The latter supports the LOOS iterative alignment method and will return the aligned frames. Note that this does require reading in the alignment subset and aligning it at the first access to a frame, so there may be memory and performance penalties. The cached frames are discarded after the alignment however. Also, the  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_aligned_virtual_trajectory.html" title="A virtual trajectory that supports iterative alignment. ">loos::pyloos::trajectories::AlignedVirtualTrajectory</a> "AlignedVirtualTrajectory" can be used with a single  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_trajectory.html" title="Python-based wrapper for LOOS Trajectories This class turns a loos Trajectory into something more pyt...">loos::pyloos::trajectories::Trajectory</a> "loos.pyloos.Trajectory" to align it. All of these classes have rich support for accessing the underlying components and getting information about what frame is being used, among others. For more information, see the above links, use the search bar, or see the documentation for pyloos under the Namespace tab. In addition to the new trajectories, pyloos now sports several utility functions related to ensembles:  <a class="el" href="namespaceloos_1_1pyloos_1_1ensembles.html#aa3f704bbece6c2a9b14f64c28711ffcd" title="Python version of averageStructure (using loos.pyloos.Trajectory-like objects) The subset defined in ...">loos::pyloos::ensembles::averageStructure</a> "loos.pyloos.averageStructure()",  <a class="el" href="namespaceloos_1_1pyloos_1_1ensembles.html#a9ff38fab550aafaf7463927a03193b98" title="Returns the coordinates for an entire trajectory as an MxN numpy matrix where M is 3*natoms and N is ...">loos::pyloos::ensembles::extractCoords</a> "loos.pyloos.extractCoords()", and  <a class="el" href="namespaceloos_1_1pyloos_1_1ensembles.html#a172108f1b8675be3b4ab813a7c7c0cac" title="Returns a tuple containing the SVD result for a trajectory, along with the average structure...">loos::pyloos::ensembles::svd</a> "loos.pyloos.svd()", all of which use the new <a class="el" href="classloos_1_1_trajectory.html" title="Base-class for polymorphic trajectories. ">Trajectory</a> classes. We have also added  <a class="el" href="namespaceloos_1_1pyloos_1_1subspace.html#a5b00a2eaec8faf885abcc5323a7f5cb0">loos::pyloos::subspace::subspaceOverlap</a> "loos.pyloos.subspaceOverlap()", and  <a class="el" href="namespaceloos_1_1pyloos_1_1subspace.html#a99557e80eb7ff0122f2a8df25e80ee77">loos::pyloos::subspace::covarianceOverlap</a> "loos.pyloos.covarianceOverlap()". The iterative alignment functions have also changed. There is now a  <a class="el" href="namespaceloos_1_1pyloos_1_1alignment.html#aae7f8f6e4e2cd3b2c6937deaee42cde4" title="Iteratively align a loos.pyloos.Trajectory object (or a list of AtomicGroups) ">loos::pyloos::alignment::iterativeAlignment</a> "loos.pyloos.iterativeAlignment()" function that will take a  <a class="el" href="classloos_1_1pyloos_1_1trajectories_1_1_trajectory.html" title="Python-based wrapper for LOOS Trajectories This class turns a loos Trajectory into something more pyt...">loos::pyloos::trajectories::Trajectory</a> "loos.pyloos.Trajectory" and align it (or a list/vector of <a class="el" href="classloos_1_1_atomic_group.html" title="Class for handling groups of Atoms (pAtoms, actually) ">loos::AtomicGroup</a>). The loos-style interface is now available through  <a class="el" href="namespaceloos_1_1pyloos_1_1alignment.html#a92123e87acd4a8e847b9dc8e37817675">loos::pyloos::alignment::iterativeAlignTrajectory</a> "loos.pyloos.iterativeAlignTrajectory()". You can optionally pass a list of frame indices to use. Both functions now return a Python tuple containing the results. Finally, <a class="el" href="classloos_1_1_atomic_group.html" title="Class for handling groups of Atoms (pAtoms, actually) ">AtomicGroup</a> now has support for NumPy with the <a class="el" href="classloos_1_1_atomic_group.html#a605b30aef2f4da808eb92ec0ae0fe9f2">AtomicGroup::getCoords()</a> and <a class="el" href="classloos_1_1_atomic_group.html#a6f01a0fa6b0ccf7ae7400b2530f85051">AtomicGroup::setCoords()</a> functions, which will return (or set) the coordinates of all atoms in the group. For example, calculating an average set of coordinates can be implemented this way:  {.py} avg = numpy.zeros(len(traj.frame), 3) for frame in traj: coords = frame.getCoords() avg += coords avg /= len(traj)  </h3>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Lightweight Object-Oriented Structure library (LOOS)</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
